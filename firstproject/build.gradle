/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.0/samples
 */
println "Start - Configuration Phase"
task firstTask{
    println "Hello From Groovy Task - Configuration Phase"
    doFirst(){
        println "doFirst - Execution Phase"
    }
    doLast(){
        println "doLast - Execution Phase"
    }
    println "Bye from Groovy Task - Configuration Phase"
}
println "End"


task deployToStage{
    doLast(){
        println "Deployed to STAGE !"
    }

}
task deployToProd{
    doLast(){
        println "Deployed to PROD !"
    }
}
task cleanCache{
    doLast(){
        println "Clean Cache !"
    }
}

deployToProd.dependsOn deployToStage
deployToProd.finalizedBy cleanCache